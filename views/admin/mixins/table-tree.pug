mixin table-tree(items, level=1)
  each item, index in items
    - const prefix = Array(level+1).join("-- ")
    tr
      td 
        input(
          type="checkbox" 
          value=item.id
          name="id" 
        ) 
      td #{item.index}
      td 
        img(src=item.thumbnail, alt='Product Image', width='100px' height="auto")
      td #{prefix}#{item.title}
      td 
        input(
          type="number"
          value=item.position 
          style="width:60px"
          min="1"
          name="position"
        )
      td
        if(role.permissions.includes('category_edit'))          
          if (item.status=="active")
            a(
              href="javascript:" 
              class="badge badge-success"
              button-change-status 
              data-id=item.id 
              data-status=item.status                    
            ) Hoạt động
          else 
            a(
              href="javascript:" 
              class="badge badge-danger"
              button-change-status 
              data-id=item.id 
              data-status=item.status
            ) Không hoạt động
      td 
        a(
          class = 'btn btn-secondary btn-sm'
          href=`${prefixAdmin}/categories/detail/${item.id}`
        ) Chi tiết
        if(role.permissions.includes('category_edit'))         
          a(
            class = 'btn btn-warning btn-sm'
            href=`${prefixAdmin}/categories/edit/${item.id}`
          ) Sửa
        if(role.permissions.includes('category_delete'))
          button(
            class = 'btn btn-danger btn-sm'
            button-delete
            data-id=item.id
          ) Xóa
    if item.children && item.children.length > 0 
        +table-tree(item.children, level+1)